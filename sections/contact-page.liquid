{%- comment -%}
  Renders a contact form.
{%- endcomment -%}

{{ 'contact-page.css' | asset_url | stylesheet_tag }}

<div class="contact-page page-width">
  <header class="contact-page__header">
    <h1>{{ page.title }}</h1>
    {%- if page.content != blank -%}
      <div class="rte">{{ page.content }}</div>
    {%- endif -%}
  </header>

  <div class="contact-form-container">
    {% form 'contact', id: 'ContactForm' %}
      {%- if form.posted_successfully? -%}
        <p class="form-message form-message--success">Thank you for your message! We will get back to you as soon as possible.</p>
      {%- endif -%}
      {%- if form.errors -%}
        <div class="form-message form-message--error">
          <p>Please correct the following errors:</p>
          <ul>
            {%- for field in form.errors -%}
              <li>{{ form.errors.messages[field] }}</li>
            {%- endfor -%}
          </ul>
        </div>
      {%- endif -%}

      <div class="form-field">
        <label for="ContactForm-name">Name</label>
        <input type="text" id="ContactForm-name" name="contact[name]" value="{% if form.name %}{{ form.name }}{% endif %}">
      </div>

      <div class="form-field">
        <label for="ContactForm-email">Email</label>
        <input
          type="email"
          id="ContactForm-email"
          name="contact[email]"
          value="{% if form.email %}{{ form.email }}{% endif %}"
          spellcheck="false"
          autocomplete="email"
          aria-required="true"
        >
      </div>

      <div class="form-field">
        <label for="ContactForm-phone">Phone number</label>
        <input
          type="tel"
          id="ContactForm-phone"
          name="contact[phone]"
          pattern="[0-9\-]+"
          value="{% if form.phone %}{{ form.phone }}{% endif %}"
        >
      </div>

      <div class="form-field">
        <label for="ContactForm-body">Message</label>
        <textarea rows="10" id="ContactForm-body" name="contact[body]">{% if form.body %}{{ form.body }}{% endif %}</textarea>
      </div>

      <button type="submit" class="button">Send message</button>
    {% endform %}
  </div>
</div>

{% schema %}
{
  "name": "Contact Page",
  "settings": [],
  "presets": [
    {
      "name": "Contact Page"
    }
  ]
}
{% endschema %}
